# Communication

[AT Command](https://www.samongiot.com/uncategorized/at-command/)

## **คำสั่ง AT**

ชุดคำสั่งมาตรฐาน ที่สามารถใช้ติดต่อสื่อสารกับอุปกรณ์สื่อสารต่างๆ เช่น โมเด็ม หรือ อุปกรณ์ DTE (Data Terminal Equipment) เพื่อโต้ตอบตั้งค่าหรือสั่งงานอุปกรณ์เหล่านั้น ให้ทำงานตามที่ต้องการ

เป้าหมายของโค้ดนี้ก็คือการรับคำสั่ง AT จากพอร์ต อนุกรม ของ Arduino เพื่อส่งไปยัง ESP8266 และพิมพ์คำตอบของ ESP8266 ไปยังคำสั่งหรือการกระทำอื่น ๆ (เช่นการรับคำขอ HTTP)

1. เปิด Serial Monitor ของ Arduino ตั้งค่า Baud rate 115200 และปรับช่องในรูปให้เป็น  Both NL&CR
2. พิมพ์ `AT` ตรวจสอบว่าบอร์ดเรายังใช้งานได้อยู่หรือไม่ ถ้ามีคำว่า OK หรือการตอบสนอง แสดงว่าบอร์ดเรายังใช้งานได้อยู่
3. พิมพ์ `AT+GMR` เป็นคำสั่งเช็คเวอร์ชัน เมื่อพิมพ์แล้วจะได้ผลลัพธ์ของเวอร์ชัน Firmware
4. พิมพ์ `AT+GMR` เป็นคำสั่งเช็คเวอร์ชัน เมื่อพิมพ์แล้วจะได้ผลลัพธ์ของเวอร์ชัน Firmware
5. พิมพ์ `AT+RST` // เป็นการ Restart โมดุล จะ return “ready” กลับมาพร้อมทำงานแล้ว
6. พิมพ์ `AT+CWLAP` // ค้นหา wifi เราเตอร์ ที่เปิดใช้งานอยู่
7. พิมพ์ `AT+CIPMUX=1` // เปิดโหมดการเชื่อมต่อแบบหลายจุด
8. พิมพ์ `AT+CWJAP="truehome2G41f","82ed641f"` เชื่อมต่อเข้ากับ เราเตอร์ ต้องมี เครื่องหมาย `"` ด้วย

    ```plain
    ssid = <SSID>
    password = <Password>
    ```

9. พิมพ์ `AT+CWJAP?` // เช็คว่าเชื่อมต่อได้หรือไม่
10. พิมพ์ `AT+CIFSR` // ตรวจสอบไอพี ถ้าพิมพ์ คำสั่งถูก และ เชื่อมต่อเข้ากับ Router ได้อย่างไม่มีปัญหา ตัว Router จะแจกไอพี มาให้เรา
